---
---
@import '../_sass/bootstrap';
@import '../_sass/syntax-highlighting';

// ========================================
// Bootstrap Overrides
// ========================================

// Reset html font-size to standard 16px base (Bootstrap 3 uses 10px)
// This makes rem calculations more intuitive: 1rem = 16px
html {
  font-size: 16px; // Override Bootstrap 3's 10px base
}

// ========================================
// Variables & Configuration
// ========================================

// ========================================
// Design Tokens / Variables
// ========================================

// Colors
$scotch-primary: rgb(255, 69, 69);
$scotch-secondary: #FF7B7B;
$link-color: #23527C;
$link-hover: #4D79E8;
$text-gray: gray;
$selection-bg: #086AFF;
$bg-light: #f7f7f7;

// Additional color tokens for typography
$text-primary: #1a1a1a;  // Near black for better readability
$text-secondary: #4a4a4a;  // Medium gray
$text-muted: #6c757d;  // Muted gray
$text-light: #999;  // Light gray

// ========================================
// Typography System
// ========================================

// Font Stacks
$font-stack-system: -apple-system, BlinkMacSystemFont, "San Francisco", "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
$font-stack-heading: $font-stack-system;
$font-stack-body: 'Roboto Condensed', $font-stack-system;
$font-stack-mono: "SF Mono", Monaco, "Cascadia Code", "Roboto Mono", Consolas, "Courier New", monospace;

// Font Weights
$font-weights: (
  'thin': 100,
  'extralight': 200,
  'light': 300,
  'regular': 400,
  'medium': 500,
  'semibold': 600,
  'bold': 700,
  'extrabold': 800,
  'black': 900
);

// Font Sizes - Using modular scale (1.25 ratio)
// Now using standard 16px base (1rem = 16px)
$font-sizes: (
  'xs': 0.75rem,     // 12px
  'sm': 0.875rem,    // 14px
  'base': 1rem,      // 16px
  'lg': 1.125rem,    // 18px
  'xl': 1.25rem,     // 20px
  '2xl': 1.5rem,     // 24px
  '3xl': 1.875rem,   // 30px
  '4xl': 2.25rem,    // 36px
  '5xl': 3rem,       // 48px
  '6xl': 4rem,       // 64px
  
  // Mobile-optimized sizes
  'mobile-sm': 1rem,      // 16px - compact mobile body
  'mobile-base': 1.125rem, // 18px - readable mobile body  
  'mobile-lg': 1.375rem,   // 22px - mobile subheading
  'mobile-xl': 1.75rem,    // 28px - mobile heading
  'mobile-2xl': 2.25rem,   // 36px - large mobile heading
  'mobile-3xl': 2.75rem    // 44px - hero mobile heading
);

// Line Heights
$line-heights: (
  'tight': 1.25,
  'snug': 1.375,
  'normal': 1.5,
  'relaxed': 1.625,
  'loose': 2
);

// Letter Spacing
$letter-spacings: (
  'tighter': -0.05em,
  'tight': -0.025em,
  'normal': 0,
  'wide': 0.025em,
  'wider': 0.05em,
  'widest': 0.1em
);

// Typography Classes (for reuse)
%font-system { font-family: $font-stack-system; }
%font-heading { font-family: $font-stack-heading; }
%font-body { font-family: $font-stack-body; }

// Legacy support (keeping these for backward compatibility)
%oswald { font-family: $font-stack-system; }
%roboto { font-family: 'Roboto Condensed', sans-serif; }
%system-font { font-family: $font-stack-system; }

// ========================================
// Spacing System
// ========================================

// Spacing - Desktop
$section-margin-desktop: 150px;
$section-margin-desktop-lg: 220px;
$section-margin-mobile: 80px;

// Breakpoints
$breakpoint-mobile: 480px;
$breakpoint-tablet: 768px;
$breakpoint-desktop: 992px;
$breakpoint-desktop-lg: 1200px;

// ========================================
// Mixins & Functions
// ========================================

// Get values from maps easily
@function font-size($size) {
  @return map-get($font-sizes, $size);
}

@function font-weight($weight) {
  @return map-get($font-weights, $weight);
}

@function line-height($height) {
  @return map-get($line-heights, $height);
}

@function letter-spacing($spacing) {
  @return map-get($letter-spacings, $spacing);
}

// Typography Mixins for consistent text styles
@mixin text-style($size: 'base', $weight: 'regular', $line: 'normal', $spacing: 'normal') {
  font-size: font-size($size);
  font-weight: font-weight($weight);
  line-height: line-height($line);
  letter-spacing: letter-spacing($spacing);
}

// Heading styles mixin
@mixin heading($level: 1) {
  @extend %font-heading;
  font-weight: font-weight('bold');
  line-height: line-height('tight');
  letter-spacing: letter-spacing('tight');
  color: $text-primary;

  @if $level == 1 {
    font-size: font-size('5xl');
  } @else if $level == 2 {
    font-size: font-size('4xl');
  } @else if $level == 3 {
    font-size: font-size('3xl');
  } @else if $level == 4 {
    font-size: font-size('2xl');
  } @else if $level == 5 {
    font-size: font-size('xl');
  } @else if $level == 6 {
    font-size: font-size('lg');
  }
}

// Retina/High-DPI Display Mixin
@mixin retina {
  @media
    only screen and (-webkit-min-device-pixel-ratio: 2),
    only screen and (min--moz-device-pixel-ratio: 2),
    only screen and (min-device-pixel-ratio: 2),
    only screen and (min-resolution: 192dpi),
    only screen and (min-resolution: 2dppx) {
    @content;
  }
}
// ========================================
// Base Styles
// ========================================

body {
    @extend %system-font;  // Use San Francisco on Apple devices, fallback to system fonts
    font-size: 18px;
    line-height: 30px;

    // Font Rendering Optimization for Retina/High-DPI displays
    -webkit-font-smoothing: antialiased;  // Makes fonts slightly thinner/crisper on macOS
    -moz-osx-font-smoothing: grayscale;   // Firefox on macOS
    text-rendering: optimizeLegibility;   // Enables ligatures and kerning

    // Improve rendering on Windows
    -webkit-text-stroke-width: 0.04px;    // Subtle stroke for smoother edges

    // Better font metrics
    font-feature-settings: "kern" 1;      // Enable kerning
    font-kerning: normal;                 // Better letter spacing

    // Prevent font boosting on mobile
    -webkit-text-size-adjust: 100%;
    -ms-text-size-adjust: 100%;
    text-size-adjust: 100%;
}

section {
  margin-top: 100px;
}
// ========================================
// Components
// ========================================

// Buttons
button {
  text-decoration: none !important;
  display: inline-block !important;
  font-size: 20px !important;
  color: $text-gray !important;

  &:hover {
    background-color: transparent !important;
    color: $text-gray !important;
  }

  &:active,
  &:focus {
    background-color: transparent !important;
    -webkit-box-shadow: none !important;
    box-shadow: none !important;
    color: $text-gray !important;
    border-color: $text-gray !important;
    outline: 0 !important;
  }
}
// Typography
p {
    margin-bottom: 30px;
}

h1, h2, h3, h4, h5, h6 {
    @extend %oswald;
}

// Links
a {
    outline: none !important;
    text-decoration: none !important;
    transition: all 225ms ease;
    color: $link-color;

    &:hover {
        color: $link-hover !important;
    }
}

// Selection
::selection {
    background: $selection-bg;
    color: #fff;
}

// Layout helpers
section, header, footer, main, article, nav, aside {
    position: relative;
}
nav.navbar {
    margin: 0;

    a {
        text-transform: uppercase;
        font-size: 16px;
    }

    .navbar-brand {
        text-transform: none;

        i {
            transition: inherit;
            color: $scotch-primary;
            transform: scale(1);
        }

        &:hover i {
            color: rgb(255, 111, 111);
            transform: scale(1.35);
        }
    }
}
.divider-vertical {
  height: 100px;
  margin: 0 5px 0 0;
  border-left: 1px solid #C5C5C5;
}

// ========================================
// Page Sections
// ========================================

// Profile/Intro Card
.intro-card {
  img {
    width: 200px;
    height: 200px;
  }

  h1 {
    font-size: 4rem;
    letter-spacing: -1px;
    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
    font-weight: 700;
  }

  i {
    font-size: 20px;
  }

  p {
    color: $text-gray;
  }
}
.social-links {
  a {
    margin: 0;
    text-decoration: none;
    position: relative;
    display: inline-block;
    color: black;
    height: 30px;
    width: 35px;
  }
}
.navigation {
  margin-top: 50px;
  h1 {
    font-family: 'Roboto Condensed', sans-serif;
    font-size: 2.2rem;
    font-weight: 300;
    margin: 0;
    padding: 5px;
    opacity: 0.87;
  }
  .scroll-to-projects {
    font-size: font-size('base') !important;  // 18px - override the generic button style
    // Change to: 'base' (16px), 'lg' (18px), 'xl' (20px), '2xl' (24px)
  }
}
.applisious {
  padding-top: 100px;
  padding-bottom: 100px;
}
.app-info {
  h3 {
    @extend %font-system;
    @include text-style('3xl', 'extrabold');
    color: $text-primary;
    margin-bottom: 1rem;
    
    a {
      color: inherit;
      text-decoration: none;
      transition: color 0.2s ease;
      font-size: inherit;  // Ensure link inherits h3 font size
      font-weight: inherit;  // Ensure link inherits h3 font weight
      line-height: inherit;  // Ensure link inherits h3 line height
      letter-spacing: inherit;  // Ensure link inherits h3 letter spacing
      
      &:hover {
        color: $link-hover;
        text-decoration: none;
      }
    }
  }
  h4, h5 {
    @extend %font-system;
    font-size: font-size('lg');  // 18px
    font-weight: font-weight('bold');
    color: $text-primary;
    opacity: 0.87;
  }
  .app-description p {
    font-size: font-size('lg');  // 18px - readable size
    line-height: line-height('relaxed');  // 1.625 for good readability
    font-weight: font-weight('regular');
    color: $text-secondary;
    margin-bottom: 1.5rem;
  }
  a {
    font-size: font-size('base');  // 16px
    color: $link-color;
    transition: color 0.2s ease;

    &:hover {
      color: $link-hover;
    }
  }
}
// App Screenshots Gallery
.app-shots {
  min-height: 700px;
  padding: 20px;
  background-color: $bg-light;
  overflow-x: auto; // Better than overflow: scroll
  overflow-y: hidden;
  -webkit-overflow-scrolling: touch;
  white-space: nowrap;

  img {
    margin-right: 20px;
    max-height: 700px;
    box-shadow: 0 3px 5px rgba(0, 0, 0, 0.3);

    &:last-child {
      margin-right: 0;
    }
  }
}

.artwork {
  position: relative;

  img {
    width: 175px;
    height: 175px;
  }

  .mask {
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    z-index: 1;
    width: 177px;
    height: 177px;
    background: url(../img/mask175.png) 0 0 no-repeat;
    background-size: 175px 175px;
  }
}
.libs {
  list-style: none;
  margin: 0;
  padding: 0;
  li {
  }
}
.title-group {
  text-align: center;
  padding: 0 15px;
  margin: 50px 0 100px;
  p {
    max-width: 800px;
    margin: 25px auto 0;
  }
}
h1.special {
    position: relative;
    text-align: center;
    overflow: hidden;
    margin: 0;
    text-transform: uppercase;
    @extend %oswald;
    font-size: 69px;
    line-height: 69px;
    font-weight: 700;
    color: $scotch-primary;

    span {
        display: inline-block;
        position: relative;
        padding: 0 15px;
        max-width: 1000px;

        &:before, &:after {
            content: '';
            position: absolute;
            display: block;
            height: 1px;
            background: #e8e8e8;
            width: 99999999px;
            top: 50%;
            transform: translateY(-50%);
        }

        &:before { left: 100%; }
        &:after { right: 100%; }
    }
}

.tile {
    position: relative;
    box-shadow: 0 0.15em 0.35em 0 rgba(0, 0, 0, 0.135);
    margin-bottom: 125px;

    .inner-guts { padding: 30px; }

    h2 {
        margin: 0;
        font-size: 3.8rem;
        font-weight: 400;
        letter-spacing: -0.05em;
        line-height: 100px;
    }

    .featurette {
        position: relative;
        display: block;
        overflow: hidden;
        // margin-bottom: 15px;
        width: 100%;
        height: 550px;
        background-color: #e8e8e8;

        .img {
            background-size: cover;
            background-position: 50% 0;
            background-repeat: no-repeat;
            position: absolute;
            display: block;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            transition: all 225ms ease;
            transform: scale(1);

            &:before {
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                display: block;
                content: '';
                background: #000;
                opacity: 0.4;
                transition: all 225ms ease;
            }
        }

        iframe {
            position: absolute;
            display: block;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }

        &:hover {
            .img {
                transform: scale(1.2);

                &:before {
                    opacity: 0.2;
                }
            }
        }
    }

    .excerpt {
        font-size: 2rem;
        font-weight: 300;
        // line-height: 49px;
        color: #484848;

        p {
            margin: 0;
        }
    }

    .tags {
        position: absolute;
        left: 0;
        top: 100%;
        margin-top: 15px;

        span {
            padding: 1px 5px;
            font-size: 12px;
            line-height: 1.5;
            text-transform: uppercase;
            @extend %oswald;
        }
    }

    .read-more {
        margin-top: 50px;
        width: 100%;
        max-width: 175px;
        position: relative;
        padding-right: 75px;

        i {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-54%);
            font-size: 31px;
            line-height: 100%;
        }
    }
}

aside {
    font-size: 17px;
    color: #525252;
    margin: 16px 0;
    @extend %oswald;

    span {
        text-transform: uppercase;
        margin: 0 5px;
    }
}

.site-footer {
    margin-top: 200px;
    p:first-child {
      float: left;
    }
}

.pagination-wrap {
    text-align: center;
}

.topper {
    height: 500px;
    position: relative;

    // .img {
    //     position: absolute;
    //     top: 0;
    //     left: 0;
    //     width: 100%;
    //     height: 100%;
    //     display: block;
    //     background-size: cover;
    //     background-repeat: no-repeat;
    //     background-position: 50%;
    // }
    //
    // iframe {
    //     position: absolute;
    //     top: 0;
    //     left: 0;
    //     width: 100%;
    //     height: 100%;
    //     display: block;
    // }
}

pre {
    margin: 75px -100px;
}


@media only screen and (max-width : 991px) {
    pre {
        margin-left: 0;
        margin-right: 0;
    }
}

@media only screen and (max-width : 480px) {
    .tile .featurette, .topper {
        height: 300px;
    }
    h1.special,
    .tile h2 {
        font-size: 40px;
        line-height: 44px;
    }
    .tile .inner-guts {
        padding: 15px 25px;
    }
    .tile .excerpt {
        font-size: 22px;
        line-height: 35px;
    }
    .intro-card {
      img {
        width: 150px;
        height: 150px;
      }
      h1 {
        font-size: font-size('mobile-2xl'); // 36px - much more compact
        letter-spacing: -0.5px;
        line-height: line-height('tight');
      }
      i {
        font-size: 18px; // Slightly smaller icons
      }
      p {
        font-size: font-size('mobile-base'); // 18px - more readable than 25.6px
        line-height: line-height('normal');
      }
    }
    .navigation {
      margin-top: 30px;
      h1 {
        font-size: 2.2rem;
        font-weight: 300;
        margin: 0;
        padding: 5px;
      }
    }
    .artwork {
      img {
        width: 135px;
        height: 135px;
      }
      .mask {
        width: 135px;
        height: 135px;
        background-size: 135px 135px;
      }
    }
    section.one {
      margin-top: 80px;
    }
    .applisious {
      padding-top: 30px;
    }
    .app-info {
      padding-left: 10px;
      padding-right: 10px;
    }
    .outter-shots {
      margin: 0;
      padding: 0;
      margin-left: -15px;
      width: 108.8% !important;
    }
    .app-shots {
      min-height: 600px;
      min-width: 100%;
      margin-top: 20px;
      img {
        max-height:600px;
      }
    }
}

@media only screen
and (min-device-width: 320px)
and (max-device-width: 568px)
and (-webkit-device-pixel-ratio: 2)
and (device-aspect-ratio: 40/71)
and (orientation:portrait)
{
  section {
    margin: 50px 0;
  }
  section.two {
    margin-top: 88px;
  }
  .intro-card {
    img {
      width: 150px;
      height: 150px;
    }
    h1 {
      font-size: font-size('mobile-xl'); // 28px - optimal for iPhone screens
      letter-spacing: -0.3px;
      line-height: line-height('tight');
      margin-bottom: 0.75rem; // Tighter spacing
    }
    i {
      font-size: 16px; // Smaller icons for compact layout
    }
    p {
      font-size: font-size('mobile-sm'); // 16px - compact but readable
      line-height: line-height('normal');
      margin-bottom: 1rem; // Tighter spacing
    }
  }
  .social-links {
    a {
      width: 32px;
      height: 30px;
    }
  }
  .navigation {
    h1 {
      font-size: 2rem;
    }
    a {
      width: 90px;
    }
  }
  .artwork {
    img {
      width: 115px;
      height: 115px;
    }
    .mask {
      width: 115px;
      height: 115px;
      background-size: 115px 115px;
    }
  }
  .outter-shots {
    width: 109.9% !important;
  }
  .app-shots {
    min-height: 500px;
    min-width: 100%;
    margin-top: 10px;
    img {
      max-height: 500px;
    }
  }
  .site-footer {
    margin-top: 100px;
    p {
      font-size: 14px;
    }
  }
}

// ========================================
// Modern iPhone Optimizations (iPhone 14 Pro, 15 Pro, 16 Pro)
// ========================================
// Target modern iPhones with larger screens but high pixel density
@media only screen 
and (max-width: 430px) 
and (-webkit-device-pixel-ratio: 3) {
  .intro-card {
    h1 {
      font-size: font-size('mobile-lg'); // 22px - fits better on all modern iPhones
      letter-spacing: -0.2px;
      line-height: 1.2;
      margin-bottom: 0.5rem;
    }
    p {
      font-size: font-size('mobile-sm'); // 16px
      line-height: 1.4;
      margin-bottom: 0.75rem;
    }
    img {
      width: 140px;
      height: 140px;
      margin-bottom: 1rem;
    }
  }
  
  .navigation {
    margin-top: 20px;
    button {
      font-size: font-size('mobile-sm') !important; // 16px for button
      padding: 8px 20px !important;
    }
  }

  .social-links {
    margin: 1rem 0;
    a {
      width: 30px;
      height: 28px;
      i {
        font-size: 16px;
      }
    }
  }
  
  section.one {
    margin-top: 60px !important;
    padding-top: 2rem;
  }
}


// ========================================
// Responsive Design - Desktop Overrides
// ========================================
// Placed after mobile rules to ensure proper cascade

@media only screen and (min-width: #{$breakpoint-mobile + 1px}) {
  section.one {
    margin-top: $section-margin-desktop !important;
  }
  section.two {
    margin-top: 120px !important;
  }
}

@media only screen and (min-width: #{$breakpoint-desktop}) {
  section.one {
    margin-top: 160px !important;
  }
  section.two {
    margin-top: 120px !important;
  }
}

@media only screen and (min-width: #{$breakpoint-desktop-lg}) {
  section.one {
    margin-top: $section-margin-desktop-lg !important;
  }
  section.two {
    margin-top: 120px !important;
  }
}
